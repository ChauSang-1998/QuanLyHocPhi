@model HocPhi.Models.BuaAn

@{
    ViewBag.Title = "SuaBuaAn";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}

<div class="row">
    <div class="col-lg-11">



        @using (Html.BeginForm())
        {
            @Html.AntiForgeryToken()


            <div class="col-lg-6" style="margin-left:250px;">

                <div class="card" style="background:#e9e9e9">
                    <div class="card-header">
                        <strong>Sửa Bửa Ăn</strong>

                    </div>
                    <div class="card-body card-block">
                        <div class="form-group">
                            <label for="inputEmail4">Mã Bửa Ăn </label>
                            @Html.EditorFor(model => model.MaBA, new { htmlAttributes = new { @class = "form-control" } })
                            @Html.ValidationMessageFor(model => model.MaBA, "", new { @class = "text-danger" })
                        </div>
                        <div class="form-group ">
                            <label for="inputPassword4">Tên Bửa Ăn</label>
                            @Html.DropDownList("MaCTBA", (IEnumerable<SelectListItem>)ViewBag.Ma_CTBA, "---Chọn---", new { @class = "form-control" })
                            @Html.ValidationMessageFor(model => model.MaCTBA, "", new { @class = "text-danger" })
                        </div>
                        <div class="form-group ">
                            <label for="inputEmail4">Mã Lớp</label>
                            @if (ViewBag.Lop_MaL != null)
                            {
                                @Html.DropDownListFor(model => model.MaLop, ViewBag.Lop_MaL as SelectList, "---Chọn---", new { @class = "form-control" })

                            }
                            @Html.ValidationMessageFor(model => model.MaLop, "", new { @class = "text-danger" })
                        </div>
                        <div class="form-group ">
                            <label for="inputPassword4">Mã Học Sinh</label>
                            @Html.DropDownList("MaHocSinh", (IEnumerable<SelectListItem>)ViewBag.Ma_HS, "---Chọn---", new { @class = "form-control" })
                            @Html.ValidationMessageFor(model => model.MaHocSinh, "", new { @class = "text-danger" })
                        </div>
                        <div class="form-group ">
                            <label for="inputPassword4">Ngày</label>
                            @Html.TextBoxFor(model => model.Ngay, new { type = "date", @class = "form-control" })
                            @Html.ValidationMessageFor(model => model.MaHocSinh, "", new { @class = "text-danger" })
                        </div>
                        <div class="form-group ">
                            <label for="inputPassword4">Ăn</label>
                            @Html.EditorFor(model => model.An, new { htmlAttributes = new { @class = "form-control" } })
                            @Html.ValidationMessageFor(model => model.An, "", new { @class = "text-danger" })
                        </div>
                        <style>
                            .form-group .form-control {
                                padding-left: 7px;
                            }
                        </style>
                        <button style="float:right;" type="submit" class="btn btn-primary">Sửa</button>
                        <script>
                            $(document).ready(function () {
                                $("#MaLop").change(function () {
                                    $.get("/Admin/Admin/GetStateListLop_hocsinh", { MaLop: $("#MaLop").val() }, function (data) {
                                        $("#MaHocSinh").empty();
                                        $.each(data, function (index, row) {
                                            $("#MaHocSinh").append("<option value='" + row.MaHocSinh + "'>" + row.TenHocSinh + "</option>")
                                        });
                                    });
                                })
                            });
                        </script>
                        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.0/jquery.min.js"></script>

                    </div>

                </div>
            </div>





        }


    </div>

</div>